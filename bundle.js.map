{"version":3,"sources":["webpack:///webpack/bootstrap b0af62731a306332a5a3","webpack:///./src/TreeClass/main.js","webpack:///./src/TreeClass/tree.js","webpack:///./src/TreeClass/branch.js"],"names":["window","onload","tree","count","interval","setInterval","promise","addBranches","then","clearInterval","Tree","createCanvas","leaves","start","createVector","width","height","end","root","push","countBranches","that","Promise","resolve","reject","i","length","finished","next","split","left","right","console","log","copy","draw","background","map","b","show","jitter","noStroke","fill","ellipse","l","x","y","random","Branch","begin","stroke","line","direction","p5","Vector","sub","rotate","PI","mult","newEnd","add","direction2","newEnd2"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/src/TreeClass/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap b0af62731a306332a5a3","import Tree from './tree'\r\n\r\nwindow.onload = function() {\r\n  const tree = new Tree()\r\n  let count = 0\r\n\r\n  const interval = setInterval(function(){\r\n    const promise = tree.addBranches()\r\n    promise.then(count++)\r\n    if(count > 5){\r\n      clearInterval(interval)\r\n    }\r\n  }, 100);\r\n\r\n\r\n\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/TreeClass/main.js","import Branch from './branch'\r\n\r\nexport default class Tree {\r\n\r\n  constructor() {\r\n    createCanvas(500, 600)//ÖVer hela sen\r\n    this.tree = []\r\n    this.leaves = []\r\n\r\n    const start = createVector(width/2, height)\r\n    const end = createVector(width/2, height-90)\r\n\r\n    const root = new Branch(start, end)\r\n    this.tree.push(root)\r\n    this.countBranches = 0\r\n\r\n\r\n  }\r\n\r\n  addBranches () {\r\n    const that = this\r\n    return new Promise(\r\n      function(resolve, reject) {\r\n        const tree = that.tree\r\n        for (var i = tree.length-1; i >= 0; i--) {\r\n          if (!tree[i].finished) {\r\n            const next = tree[i].split()\r\n            tree.push(next.left)\r\n            tree.push(next.right)\r\n            tree[i].finished = true;\r\n          }\r\n        }\r\n        that.countBranches++\r\n        console.log(that.countBranches);\r\n        if(that.countBranches > 2){\r\n          for (var i = 0; i < that.tree.length; i++) {\r\n            console.log('lägg till');\r\n            if(!that.tree[i].finished){\r\n              that.leaves.push(that.tree[i].end.copy())\r\n            }\r\n          }\r\n        }\r\n        that.draw()\r\n      }\r\n    )\r\n  }\r\n\r\n  draw () {\r\n    background(200)\r\n    this.tree.map((b) => {\r\n      b.show()\r\n      b.jitter()\r\n    })\r\n    this.leaves.map((l => {\r\n      noStroke()\r\n      fill('rgba(0,255,0, 0.25)')\r\n      ellipse(l.x, l.y, 15, random(12, 18))\r\n      l.y += 10\r\n      //l.show()\r\n    }))\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/TreeClass/tree.js","//Branch = begin and end point\r\nexport default class Branch {\r\n  constructor(start, end){\r\n    this.begin = start\r\n    this.end = end\r\n    this.finished = false\r\n  }\r\n\r\n  jitter() {\r\n      this.end.x += random(-1, 1);\r\n      this.end.y += random(-1, 1);\r\n  }\r\n  show(){\r\n    stroke(255)\r\n    line(this.begin.x, this.begin.y, this.end.x, this.end.y)\r\n  }\r\n  split(){\r\n    //SKapar ny vector vid samma beg och end,\r\n    //roterar den och flyttar upp den till förra branch end\r\n    let direction = p5.Vector.sub(this.end, this.begin)\r\n    direction.rotate(PI / 5)\r\n    direction.mult(0.7)\r\n    let newEnd = p5.Vector.add(this.end, direction)\r\n    const right = new Branch(this.end, newEnd)//right\r\n\r\n    let direction2 = p5.Vector.sub(this.end, this.begin)\r\n    direction2.rotate(-PI / 5)\r\n    direction2.mult(0.7)\r\n    let newEnd2 = p5.Vector.add(this.end, direction2)\r\n    const left = new Branch(this.end, newEnd2)//right\r\n\r\n    return { left: left, right: right }\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/TreeClass/branch.js"],"sourceRoot":""}