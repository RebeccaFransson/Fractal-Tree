{"version":3,"sources":["webpack:///webpack/bootstrap ac300316f03383069bc3","webpack:///./src/main.js","webpack:///./src/Tree/branch.js","webpack:///./src/tree.js"],"names":["window","onload","tree","count","interval","setInterval","promise","addBranches","then","clearInterval","Branch","start","end","begin","finished","x","random","y","stroke","line","direction","p5","Vector","sub","rotate","PI","mult","newEnd","add","right","direction2","newEnd2","left","Tree","createCanvas","leaves","createVector","width","height","root","push","countBranches","that","Promise","resolve","reject","i","length","next","split","console","log","copy","draw","background","map","b","show","jitter","noStroke","fill","ellipse","l"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap ac300316f03383069bc3","import Tree from './tree'\r\n\r\nwindow.onload = function() {\r\n  const tree = new Tree()\r\n  let count = 0\r\n\r\n  const interval = setInterval(function(){\r\n    const promise = tree.addBranches()\r\n    promise.then(count++)\r\n    if(count > 5){\r\n      clearInterval(interval)\r\n    }\r\n  }, 100);\r\n\r\n\r\n\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","//Branch = begin and end point\r\nexport default class Branch {\r\n  constructor(start, end){\r\n    this.begin = start\r\n    this.end = end\r\n    this.finished = false\r\n  }\r\n\r\n  jitter() {\r\n      this.end.x += random(-1, 1);\r\n      this.end.y += random(-1, 1);\r\n  }\r\n  show(){\r\n    stroke(255)\r\n    line(this.begin.x, this.begin.y, this.end.x, this.end.y)\r\n  }\r\n  split(){\r\n    //SKapar ny vector vid samma beg och end,\r\n    //roterar den och flyttar upp den till förra branch end\r\n    let direction = p5.Vector.sub(this.end, this.begin)\r\n    direction.rotate(PI / 5)\r\n    direction.mult(0.7)\r\n    let newEnd = p5.Vector.add(this.end, direction)\r\n    const right = new Branch(this.end, newEnd)//right\r\n\r\n    let direction2 = p5.Vector.sub(this.end, this.begin)\r\n    direction2.rotate(-PI / 5)\r\n    direction2.mult(0.7)\r\n    let newEnd2 = p5.Vector.add(this.end, direction2)\r\n    const left = new Branch(this.end, newEnd2)//right\r\n\r\n    return { left: left, right: right }\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/Tree/branch.js","import Branch from './Tree/branch'\r\n\r\nexport default class Tree {\r\n\r\n  constructor() {\r\n    createCanvas(500, 600)//ÖVer hela sen\r\n    this.tree = []\r\n    this.leaves = []\r\n\r\n    const start = createVector(width/2, height)\r\n    const end = createVector(width/2, height-90)\r\n\r\n    const root = new Branch(start, end)\r\n    this.tree.push(root)\r\n    this.countBranches = 0\r\n\r\n\r\n  }\r\n\r\n  addBranches () {\r\n    const that = this\r\n    return new Promise(\r\n      function(resolve, reject) {\r\n        const tree = that.tree\r\n        for (var i = tree.length-1; i >= 0; i--) {\r\n          if (!tree[i].finished) {\r\n            const next = tree[i].split()\r\n            tree.push(next.left)\r\n            tree.push(next.right)\r\n            tree[i].finished = true;\r\n          }\r\n        }\r\n        that.countBranches++\r\n        console.log(that.countBranches);\r\n        if(that.countBranches > 2){\r\n          for (var i = 0; i < that.tree.length; i++) {\r\n            console.log('lägg till');\r\n            if(!that.tree[i].finished){\r\n              that.leaves.push(that.tree[i].end.copy())\r\n            }\r\n          }\r\n        }\r\n        that.draw()\r\n      }\r\n    )\r\n  }\r\n\r\n  draw () {\r\n    background(200)\r\n    this.tree.map((b) => {\r\n      b.show()\r\n      b.jitter()\r\n    })\r\n    this.leaves.map((l => {\r\n      noStroke()\r\n      fill('rgba(0,255,0, 0.25)')\r\n      ellipse(l.x, l.y, 15, random(12, 18))\r\n      l.y += 10\r\n      //l.show()\r\n    }))\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/tree.js"],"sourceRoot":""}